\documentclass{../../text-style}

\texttitle{Практика 14: Развёртывание REST-сервиса}

\begin{document}

\maketitle
\thispagestyle{empty}

\section{Задание на практику}

В командах по 2 человека упаковать разработанный на предыдущей паре сервис в Docker-образ, запустить получившийся образ на Yandex.Cloud (или каком-либо ещё облачном сервисе). При этом: 

\begin{itemize}
    \item Если вы использовали для реализации не интерпретируемый язык, используйте двухфазную сборку.
    \item Проверьте, что запускается локально, запустив контейнер командой docker run -p и зайдя на localhost по указанному в -p порту.
    \item К сожалению, для деплоя на Yandex.Cloud потребуется привязать банковскую карту, даже несмотря на то, что для целей этой практики пробного кредита и даже free tier хватит более чем (free tier не факт --- я не нашёл, как подружить Yandex.Cloud и внешние репозитории Docker-образов типа DockerHub, так что он будет брать немного денег за хранение образа в Yandex Container Registry, он во free tier не входит; но они берут 3 рубля за гигабайт в месяц, так что...). Пробный кредит, кстати, дают только один раз, это тоже важный минус Yandex.Cloud для образовательных целей, но вроде как с этим ничего не поделать. Поэтому не возражаю, если вы воспользуетесь каким-либо другим облачным хостингом (известные мне, такие как Azure, тоже сразу хотят карту, но поскольку они в США, то карты наши не принимают). Небольшой лайфхак --- современные банки позволяют практически мгновенно выпустить электронную карту, иногда она даже бесплатна в обслуживании (в любом случае, нам она нужна на пару часов, если не будете пользоваться Yandex.Cloud дальше), на неё надо перевести 10 рублей для успешной авторизации карты. Если всё-таки укажете настоящую карту, не забудьте потом отвязать и всё поудалять, а то Яндекс, как и все подобные сервисы, обожает списывать деньги по факту использования, без подтверждения. Если ваш сервис взломают и начнут на нём майнить биткойны, будет беда.
    \item Документация по Yandex Serverless Containers могла бы быть поподробней, но в целом вполне ок, можно начать с \url{https://cloud.yandex.ru/docs/serverless-containers/quickstart}.
    \item Обратите внимание, что порт, на котором запущено приложение, назначается инфраструктурой Yandex.Cloud автоматически и должен получаться из переменной окружения PORT. EXPOSE в Dockerfile писать не нужно.
\end{itemize}

\end{document}